<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Meta Tags -->
    <title>Self-Help Resources - Pregnancy Rights Letters | Family Beginnings</title>
    <meta name="description" content="Free self-help tools and templates for pregnancy rights, workplace accommodations, and maternity leave requests. Generate customized letters for your employer.">
    <meta name="keywords" content="pregnancy rights templates, workplace accommodation letters, maternity leave requests, prenatal care rights, pregnancy discrimination self-help">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1FQ1QS4HJZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1FQ1QS4HJZ');
    </script>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://carlgaul.github.io/FamilyBeginnings/resources.html">
    
    <style>
        /* ===== BASIC RESET AND TYPOGRAPHY ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.6;
            color: #2c3e50;
            background-color: #fdfefe;
        }

        /* ===== HEADER STYLES ===== */
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #e8f4f8;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: #a8d8ea;
        }

        /* ===== MAIN CONTENT STYLES ===== */
        main {
            margin-top: 80px;
            min-height: calc(100vh - 160px);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* ===== HERO SECTION ===== */
        .hero {
            background: linear-gradient(rgba(52, 73, 94, 0.8), rgba(52, 73, 94, 0.8)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23a8d8ea" width="1200" height="600"/><path fill="%23e8f4f8" d="M0 300c200-50 400-100 600 0s400 50 600 0v300H0z"/></svg>');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 6rem 0 4rem 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            font-weight: bold;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 2rem auto;
        }

        /* ===== QUESTIONNAIRE STYLES ===== */
        .questionnaire-container {
            background: white;
            margin: 4rem auto;
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            max-width: 800px;
        }

        .question-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .question-section.active {
            display: block;
        }

        .question-section h2 {
            color: #2c3e50;
            margin-bottom: 2rem;
            text-align: center;
            font-size: 1.8rem;
        }

        .question-section h3 {
            color: #34495e;
            margin-bottom: 1.5rem;
            font-size: 1.4rem;
        }

        /* ===== DISCLAIMER STYLES ===== */
        .disclaimer {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .disclaimer h3 {
            color: #856404;
            margin-bottom: 1rem;
        }

        .disclaimer p {
            color: #856404;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .disclaimer .highlight {
            background: #ffc107;
            padding: 0.5rem;
            border-radius: 5px;
            font-weight: bold;
            color: #212529;
        }

        /* ===== FORM STYLES ===== */
        .form-group {
            margin-bottom: 2rem;
        }

        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .radio-option, .checkbox-option {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:hover, .checkbox-option:hover {
            border-color: #a8d8ea;
            background: #f8f9fa;
        }

        .radio-option.selected, .checkbox-option.selected {
            border-color: #e74c3c;
            background: #fff5f5;
        }

        .radio-option input, .checkbox-option input {
            margin: 0;
        }

        .option-content {
            flex: 1;
        }

        .option-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .option-description {
            color: #666;
            font-size: 0.95rem;
        }

        /* ===== BUTTON STYLES ===== */
        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #e74c3c;
            color: white;
        }

        .btn-primary:hover {
            background: #c0392b;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .btn-link {
            background: transparent;
            color: #e74c3c;
            border: 2px solid #e74c3c;
        }

        .btn-link:hover {
            background: #e74c3c;
            color: white;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* ===== LETTER DISPLAY STYLES ===== */
        .letter-container {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 2rem;
            margin-top: 2rem;
            white-space: pre-line;
            font-family: 'Times New Roman', serif;
            line-height: 1.8;
        }

        .letter-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            justify-content: center;
        }

        /* ===== PROGRESS INDICATOR ===== */
        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            background: #e74c3c;
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .questionnaire-container {
                margin: 2rem auto;
                padding: 2rem;
            }

            .button-group {
                flex-direction: column;
            }

            .letter-actions {
                flex-direction: column;
            }

            .container {
                padding: 0 1rem;
            }
        }
    </style>
    <link rel="stylesheet" href="css/responsive-nav.css">
</head>

<body>
    <!-- NAVIGATION HEADER -->
    <header>
        <nav>
            <a href="index.html" class="logo" aria-label="Family Beginnings Homepage">Family Beginnings</a>
            <div id="navigation"></div>
        </nav>
    </header>

    <!-- Mobile Navigation Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul>
            <li><a href="index.html" onclick="closeMobileMenu()">Home</a></li>
            <li><a href="about.html" onclick="closeMobileMenu()">About</a></li>
            <li><a href="legalservices.html" onclick="closeMobileMenu()">Legal Services</a></li>
            <li><a href="education.html" onclick="closeMobileMenu()">Education</a></li>
            <li><a href="resources.html" onclick="closeMobileMenu()">Resources</a></li>
            <li><a href="formedicalproviders.html" onclick="closeMobileMenu()">Medical Providers</a></li>
            <li><a href="foremployers.html" onclick="closeMobileMenu()">Employers</a></li>
            <li><a href="contact.html" onclick="closeMobileMenu()">Contact</a></li>
            <li><a href="donate.html" onclick="closeMobileMenu()">Donate</a></li>
        </ul>
    </div>
    <div class="overlay" id="overlay" onclick="closeMobileMenu()"></div>

    <main>
        <!-- HERO SECTION -->
        <section class="hero">
            <div class="container">
                <h1>Self-Help Resources</h1>
                <p>Generate customized letters and templates to help protect your pregnancy rights in the workplace. These tools are for informational purposes only and do not constitute legal advice.</p>
            </div>
        </section>

        <!-- QUESTIONNAIRE CONTAINER -->
        <div class="questionnaire-container">
            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>

            <!-- STEP 1: DISCLAIMER -->
            <div class="question-section active" id="step-disclaimer">
                <div class="disclaimer">
                    <h3>⚠️ Important Legal Disclaimer</h3>
                    <p>This self-help tool provides general information and template letters only. Using this tool:</p>
                    <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                        <li><strong>Does NOT constitute legal advice</strong></li>
                        <li><strong>Does NOT create an attorney-client relationship</strong></li>
                        <li><strong>Is for informational purposes only</strong></li>
                    </ul>
                    <div class="highlight">
                        For personalized legal advice about your specific situation, please contact our attorneys directly.
                    </div>
                </div>

                <h3>Do you understand and agree to these terms?</h3>
                <div class="form-group">
                    <div class="radio-group">
                        <div class="radio-option" onclick="selectDisclaimer('yes')">
                            <input type="radio" name="disclaimer" value="yes" id="disclaimer-yes">
                            <div class="option-content">
                                <div class="option-title">Yes, I understand</div>
                                <div class="option-description">I understand this is self-help information only and does not create an attorney-client relationship.</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectDisclaimer('no')">
                            <input type="radio" name="disclaimer" value="no" id="disclaimer-no">
                            <div class="option-content">
                                <div class="option-title">No, I need legal advice</div>
                                <div class="option-description">I need to speak with an attorney about my specific situation.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <div></div>
                    <button class="btn btn-primary" id="disclaimerNext" onclick="nextStep()" disabled>Continue</button>
                </div>
            </div>

            <!-- STEP 2: PREGNANCY STAGE -->
            <div class="question-section" id="step-stage">
                <h2>Where are you in your pregnancy journey?</h2>
                <div class="form-group">
                    <div class="radio-group">
                        <div class="radio-option" onclick="selectStage('prenatal')">
                            <input type="radio" name="stage" value="prenatal" id="stage-prenatal">
                            <div class="option-content">
                                <div class="option-title">Pre-natal (Before Birth)</div>
                                <div class="option-description">Currently pregnant and need accommodations or time off for prenatal care, appointments, or pregnancy-related needs.</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectStage('natal')">
                            <input type="radio" name="stage" value="natal" id="stage-natal">
                            <div class="option-content">
                                <div class="option-title">Natal (Birth/Delivery)</div>
                                <div class="option-description">Preparing for or recently had your baby and need maternity leave or birth-related accommodations.</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectStage('postnatal')">
                            <input type="radio" name="stage" value="postnatal" id="stage-postnatal">
                            <div class="option-content">
                                <div class="option-title">Post-natal (After Birth)</div>
                                <div class="option-description">Returned to work after having your baby and need pumping/lactation accommodations or other support.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" id="stageNext" onclick="nextStep()" disabled>Continue</button>
                </div>
            </div>

            <!-- STEP 3: ACCOMMODATION REQUESTS -->
            <div class="question-section" id="step-accommodations">
                <h2>What do you need from your employer?</h2>
                <p style="margin-bottom: 2rem; color: #666;">Select all that apply. You can request multiple accommodations in a single letter.</p>
                
                <div class="form-group">
                    <div class="checkbox-group" id="accommodationOptions">
                        <!-- Options will be populated based on selected stage -->
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" id="accommodationNext" onclick="nextStep()" disabled>Continue</button>
                </div>
            </div>

            <!-- STEP 4: PERSONAL DETAILS -->
            <div class="question-section" id="step-details">
                <h2>Personalize Your Letter</h2>
                <p style="margin-bottom: 2rem; color: #666;">Fill in the details to customize your letter. You can edit these before sending.</p>
                
                <div class="form-group">
                    <label for="employeeName" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Your Name:</label>
                    <input type="text" id="employeeName" placeholder="Your full name" style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; font-size: 1rem;">
                </div>

                <div class="form-group">
                    <label for="supervisorName" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Supervisor/Manager Name:</label>
                    <input type="text" id="supervisorName" placeholder="Your supervisor's name" style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; font-size: 1rem;">
                </div>

                <div class="form-group">
                    <label for="companyName" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Company Name:</label>
                    <input type="text" id="companyName" placeholder="Your employer's name" style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; font-size: 1rem;">
                </div>

                <div class="form-group">
                    <label for="jobTitle" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Your Job Title:</label>
                    <input type="text" id="jobTitle" placeholder="Your position/title" style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; font-size: 1rem;">
                </div>

                <div class="form-group">
                    <label for="dueDate" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Due Date (if applicable):</label>
                    <input type="date" id="dueDate" style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; font-size: 1rem;">
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="generateLetter()">Generate Letter</button>
                </div>
            </div>

            <!-- STEP 5: GENERATED LETTER -->
            <div class="question-section" id="step-letter">
                <h2>Your Customized Letter</h2>
                <p style="margin-bottom: 1rem; color: #666;">Review your letter below. You can copy the text and make any additional edits before sending to your employer.</p>
                
                <div class="letter-container" id="generatedLetter">
                    <!-- Generated letter will appear here -->
                </div>

                <div class="letter-actions">
                    <button class="btn btn-primary" onclick="copyLetter()">📋 Copy Letter</button>
                    <button class="btn btn-secondary" onclick="printLetter()">🖨️ Print Letter</button>
                    <a href="contact.html" class="btn btn-link">💬 Need Legal Help?</a>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">Back to Edit</button>
                    <button class="btn btn-primary" onclick="startOver()">Start New Letter</button>
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER PLACEHOLDER -->
    <div id="footer"></div>

    <script>
        // Global variables
        let currentStep = 0;
        let disclaimerAccepted = false;
        let selectedStage = '';
        let selectedAccommodations = [];
        
        const steps = ['disclaimer', 'stage', 'accommodations', 'details', 'letter'];
        
        // Accommodation options for each stage
        const accommodationOptions = {
            prenatal: [
                {
                    id: 'prenatal-appointments',
                    title: 'Paid Time Off for Prenatal Appointments',
                    description: 'Request paid leave for prenatal medical appointments under NY prenatal leave law (up to 20 hours annually).'
                },
                {
                    id: 'prenatal-flexible-schedule',
                    title: 'Flexible Schedule for Appointments',
                    description: 'Request flexible work hours to accommodate prenatal appointments and medical care.'
                },
                {
                    id: 'parking-accommodation',
                    title: 'Closer Parking Space',
                    description: 'Request a parking space closer to the building entrance for easier access during pregnancy.'
                },
                {
                    id: 'frequent-breaks',
                    title: 'More Frequent Breaks',
                    description: 'Request additional breaks for rest, snacks, or bathroom needs during pregnancy.'
                },
                {
                    id: 'ergonomic-workspace',
                    title: 'Ergonomic Workspace Adjustments',
                    description: 'Request desk, chair, or workstation modifications for comfort and safety during pregnancy.'
                },
                {
                    id: 'modified-duties',
                    title: 'Modified Job Duties',
                    description: 'Request temporary changes to job responsibilities that may be difficult or unsafe during pregnancy.'
                },
                {
                    id: 'extended-lunch',
                    title: 'Extended Lunch Breaks',
                    description: 'Request longer lunch periods for medical appointments or rest during pregnancy.'
                },
                {
                    id: 'remote-work',
                    title: 'Remote Work Options',
                    description: 'Request to work from home when needed during pregnancy for appointments or health reasons.'
                }
            ],
            natal: [
                {
                    id: 'maternity-leave',
                    title: 'Maternity/Parental Leave',
                    description: 'Request family leave under FMLA, NY Paid Family Leave, or company policy for birth and bonding.'
                },
                {
                    id: 'extended-leave',
                    title: 'Extended Leave Beyond Standard Policy',
                    description: 'Request additional unpaid leave beyond standard maternity leave policies.'
                },
                {
                    id: 'gradual-return',
                    title: 'Gradual Return to Work',
                    description: 'Request a phased return with reduced hours or modified schedule after maternity leave.'
                },
                {
                    id: 'flexible-return-date',
                    title: 'Flexible Return Date',
                    description: 'Request flexibility in return date based on recovery and medical clearance.'
                }
            ],
            postnatal: [
                {
                    id: 'lactation-accommodation',
                    title: 'Lactation/Pumping Room',
                    description: 'Request a private, clean space for breast pumping that is not a bathroom.'
                },
                {
                    id: 'pumping-breaks',
                    title: 'Pumping Break Time',
                    description: 'Request reasonable break time for breast pumping as needed throughout the workday.'
                },
                {
                    id: 'refrigeration',
                    title: 'Refrigeration for Breast Milk',
                    description: 'Request access to refrigeration for storing pumped breast milk safely.'
                },
                {
                    id: 'flexible-schedule-pumping',
                    title: 'Flexible Schedule for Pumping',
                    description: 'Request schedule adjustments to accommodate regular pumping sessions.'
                },
                {
                    id: 'childcare-emergency',
                    title: 'Emergency Childcare Flexibility',
                    description: 'Request flexibility for unexpected childcare emergencies or sick child situations.'
                },
                {
                    id: 'reduced-travel',
                    title: 'Reduced Business Travel',
                    description: 'Request elimination or reduction of business travel while breastfeeding or due to childcare needs.'
                }
            ]
        };

        // Disclaimer handling
        function selectDisclaimer(value) {
            // Clear previous selections
            document.querySelectorAll('.radio-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select current option
            event.currentTarget.classList.add('selected');
            document.getElementById(`disclaimer-${value}`).checked = true;
            
            if (value === 'yes') {
                disclaimerAccepted = true;
                document.getElementById('disclaimerNext').disabled = false;
            } else {
                disclaimerAccepted = false;
                document.getElementById('disclaimerNext').disabled = true;
                // Redirect to contact page
                setTimeout(() => {
                    window.location.href = 'contact.html';
                }, 1000);
            }
        }

        // Stage selection
        function selectStage(stage) {
            // Clear previous selections
            document.querySelectorAll('#step-stage .radio-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select current option
            event.currentTarget.classList.add('selected');
            document.getElementById(`stage-${stage}`).checked = true;
            
            selectedStage = stage;
            document.getElementById('stageNext').disabled = false;
        }

        // Accommodation selection
        function toggleAccommodation(accommodationId) {
            const option = event.currentTarget;
            const checkbox = option.querySelector('input');
            
            if (selectedAccommodations.includes(accommodationId)) {
                // Remove accommodation
                selectedAccommodations = selectedAccommodations.filter(id => id !== accommodationId);
                option.classList.remove('selected');
                checkbox.checked = false;
            } else {
                // Add accommodation
                selectedAccommodations.push(accommodationId);
                option.classList.add('selected');
                checkbox.checked = true;
            }
            
            // Enable/disable next button
            document.getElementById('accommodationNext').disabled = selectedAccommodations.length === 0;
        }

        // Navigation functions
        function nextStep() {
            if (currentStep < steps.length - 1) {
                // Hide current step
                document.getElementById(`step-${steps[currentStep]}`).classList.remove('active');
                
                currentStep++;
                
                // Show next step
                document.getElementById(`step-${steps[currentStep]}`).classList.add('active');
                
                // Special handling for accommodations step
                if (steps[currentStep] === 'accommodations') {
                    populateAccommodationOptions();
                }
                
                updateProgress();
                scrollToTop();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                // Hide current step
                document.getElementById(`step-${steps[currentStep]}`).classList.remove('active');
                
                currentStep--;
                
                // Show previous step
                document.getElementById(`step-${steps[currentStep]}`).classList.add('active');
                
                updateProgress();
                scrollToTop();
            }
        }

        // Populate accommodation options based on selected stage
        function populateAccommodationOptions() {
            const container = document.getElementById('accommodationOptions');
            container.innerHTML = '';
            
            const options = accommodationOptions[selectedStage] || [];
            
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'checkbox-option';
                optionDiv.onclick = () => toggleAccommodation(option.id);
                
                optionDiv.innerHTML = `
                    <input type="checkbox" name="accommodations" value="${option.id}" id="${option.id}">
                    <div class="option-content">
                        <div class="option-title">${option.title}</div>
                        <div class="option-description">${option.description}</div>
                    </div>
                `;
                
                container.appendChild(optionDiv);
            });
        }

        // Generate the letter
        function generateLetter() {
            const employeeName = document.getElementById('employeeName').value || '[Your Name]';
            const supervisorName = document.getElementById('supervisorName').value || '[Supervisor Name]';
            const companyName = document.getElementById('companyName').value || '[Company Name]';
            const jobTitle = document.getElementById('jobTitle').value || '[Your Job Title]';
            const dueDate = document.getElementById('dueDate').value;
            
            const today = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            let letter = `${today}

${supervisorName}
${companyName}

Dear ${supervisorName},

I am writing to formally request workplace accommodations related to my pregnancy in accordance with federal and New York State law, including the Americans with Disabilities Act (ADA), the Pregnant Workers Fairness Act (PWFA), and New York Human Rights Law.

`;

            // Add stage-specific introduction
            if (selectedStage === 'prenatal') {
                if (dueDate) {
                    const dueDateFormatted = new Date(dueDate).toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
                    letter += `I am currently pregnant with an expected due date of ${dueDateFormatted}. `;
                } else {
                    letter += `I am currently pregnant. `;
                }
            } else if (selectedStage === 'natal') {
                letter += `I am preparing for the birth of my child and need to request family leave. `;
            } else if (selectedStage === 'postnatal') {
                letter += `I have recently returned to work after giving birth and require accommodations to support my continued employment. `;
            }

            letter += `As my ${jobTitle}, I am requesting the following accommodations to enable me to continue performing my job duties effectively:

`;

            // Add specific accommodation requests
            selectedAccommodations.forEach(accommodationId => {
                const accommodation = findAccommodationById(accommodationId);
                if (accommodation) {
                    letter += getAccommodationText(accommodation) + '\n\n';
                }
            });

            // Add legal justification
            letter += `These accommodations are reasonable and necessary for my health and safety during this time. Under the Pregnant Workers Fairness Act and New York law, employers are required to provide reasonable accommodations for pregnancy-related limitations unless doing so would impose an undue hardship.

`;

            // Add stage-specific legal references
            if (selectedStage === 'prenatal') {
                letter += `Additionally, New York's prenatal leave law, effective January 1, 2025, provides eligible employees with up to 20 hours of paid leave annually for prenatal medical care, including routine appointments and pregnancy-related treatments.

`;
            }

            if (selectedStage === 'postnatal' && selectedAccommodations.some(id => id.includes('lactation') || id.includes('pumping'))) {
                letter += `Under the PUMP Act and New York Labor Law Section 206-c, employers must provide reasonable break time and a clean, private space (other than a bathroom) for employees to express breast milk for nursing children.

`;
            }

            // Closing
            letter += `I am committed to maintaining my job performance and am confident that these accommodations will allow me to continue contributing effectively to ${companyName}. I would appreciate the opportunity to discuss these requests with you and am available to provide any additional information or documentation you may need.

I look forward to your prompt response and to working together to implement these accommodations.

Thank you for your consideration.

Sincerely,

${employeeName}
${jobTitle}
[Your contact information]

---

Note: Please keep a copy of this letter for your records and consider sending it via email or certified mail to ensure delivery confirmation.`;

            // Display the letter
            document.getElementById('generatedLetter').textContent = letter;
            
            // Move to letter step
            nextStep();
        }

        // Helper function to find accommodation by ID
        function findAccommodationById(id) {
            for (const stage in accommodationOptions) {
                const found = accommodationOptions[stage].find(acc => acc.id === id);
                if (found) return found;
            }
            return null;
        }

        // Generate specific text for each accommodation type
        function getAccommodationText(accommodation) {
            const texts = {
                'prenatal-appointments': '• Paid time off for prenatal medical appointments: I request paid leave time for scheduled prenatal appointments as provided under New York\'s prenatal leave law, which allows up to 20 hours annually for prenatal medical care.',
                
                'prenatal-flexible-schedule': '• Flexible scheduling for medical appointments: I request the ability to adjust my work schedule to accommodate prenatal appointments and medical care as needed.',
                
                'parking-accommodation': '• Closer parking space: I request assignment of a parking space closer to the building entrance to reduce walking distance and physical strain during my pregnancy.',
                
                'frequent-breaks': '• Additional break time: I request more frequent breaks throughout the workday to rest, use the restroom, or have snacks as needed for my health during pregnancy.',
                
                'ergonomic-workspace': '• Workspace modifications: I request ergonomic adjustments to my workstation, including [specify needs such as: adjustable chair, desk height modifications, footrest, etc.] to ensure comfort and prevent strain.',
                
                'modified-duties': '• Temporary duty modifications: I request temporary modification of job duties that may be physically challenging during pregnancy, such as [specify: heavy lifting, prolonged standing, exposure to chemicals, etc.].',
                
                'extended-lunch': '• Extended lunch periods: I request longer lunch breaks to accommodate medical appointments or additional rest time needed during pregnancy.',
                
                'remote-work': '• Remote work flexibility: I request the option to work from home when necessary for medical appointments or when physical discomfort makes commuting difficult.',
                
                'maternity-leave': '• Family and Medical Leave: I request maternity leave under the Family and Medical Leave Act (FMLA) and New York Paid Family Leave starting approximately [date]. I plan to take [duration] and will provide medical certification as required.',
                
                'extended-leave': '• Extended leave beyond standard policy: I request additional unpaid leave beyond the standard maternity leave policy due to [medical necessity/recovery needs]. I will provide appropriate medical documentation.',
                
                'gradual-return': '• Gradual return to work: I request a phased return to work with reduced hours or modified schedule for [time period] to allow for gradual adjustment after my maternity leave.',
                
                'flexible-return-date': '• Flexible return date: I request flexibility in my return-to-work date based on my medical recovery and physician clearance, with advance notice provided.',
                
                'lactation-accommodation': '• Lactation room: I request access to a clean, private room (not a bathroom) for expressing breast milk during work hours. The space should have a locking door, electrical outlet, and comfortable seating.',
                
                'pumping-breaks': '• Break time for pumping: I request reasonable break time as needed to express breast milk, typically 15-20 minutes every 2-3 hours during my work schedule.',
                
                'refrigeration': '• Breast milk storage: I request access to refrigeration facilities to safely store expressed breast milk during the workday.',
                
                'flexible-schedule-pumping': '• Schedule flexibility for pumping: I request flexibility in my work schedule to accommodate regular pumping sessions while maintaining productivity.',
                
                'childcare-emergency': '• Emergency childcare flexibility: I request understanding and flexibility for occasional childcare emergencies or situations when my child is ill and requires my care.',
                
                'reduced-travel': '• Reduced business travel: I request temporary elimination or reduction of required business travel while I am breastfeeding and have childcare responsibilities.'
            };
            
            return texts[accommodation.id] || `• ${accommodation.title}: ${accommodation.description}`;
        }

        // Utility functions
        function updateProgress() {
            const progress = ((currentStep + 1) / steps.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function scrollToTop() {
            document.querySelector('.questionnaire-container').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        function copyLetter() {
            const letterText = document.getElementById('generatedLetter').textContent;
            navigator.clipboard.writeText(letterText).then(() => {
                alert('Letter copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = letterText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Letter copied to clipboard!');
            });
        }

        function printLetter() {
            const letterContent = document.getElementById('generatedLetter').textContent;
            const printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write('<html><head><title>Pregnancy Rights Letter</title>');
            printWindow.document.write('<style>body { font-family: "Times New Roman", serif; line-height: 1.6; margin: 1in; white-space: pre-line; }</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write(letterContent);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }

        function startOver() {
            // Reset all variables
            currentStep = 0;
            disclaimerAccepted = false;
            selectedStage = '';
            selectedAccommodations = [];
            
            // Clear all form inputs
            document.querySelectorAll('input').forEach(input => {
                if (input.type === 'radio' || input.type === 'checkbox') {
                    input.checked = false;
                } else {
                    input.value = '';
                }
            });
            
            // Clear all selections
            document.querySelectorAll('.radio-option, .checkbox-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Reset buttons
            document.getElementById('disclaimerNext').disabled = true;
            document.getElementById('stageNext').disabled = true;
            document.getElementById('accommodationNext').disabled = true;
            
            // Show first step
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('step-disclaimer').classList.add('active');
            
            updateProgress();
            scrollToTop();
        }

        // Initialize progress bar
        updateProgress();

        // Load navigation and footer
        fetch('nav.html')
            .then(response => response.text())
            .then(data => document.getElementById('navigation').innerHTML = data)
            .catch(error => console.log('Navigation loading failed:', error));

        fetch('footer.html')
            .then(response => response.text())
            .then(data => document.getElementById('footer').innerHTML = data)
            .catch(error => console.log('Footer loading failed:', error));

        // Google Analytics tracking
        document.addEventListener('DOMContentLoaded', function() {
            // Track questionnaire progress
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    'event_category': 'resources',
                    'event_label': 'questionnaire_start'
                });
            }
        });
    </script>
    
    <script src="js/responsive-nav.js"></script>
</body>
</html>
